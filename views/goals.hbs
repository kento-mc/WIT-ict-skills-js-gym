{{> menu id="dashboard"}}

<section class="ui segment">
{{> memberstats}}
    <section class="ui segment">
        <header class="ui header">
            {{member.firstName}} {{member.lastName}}'s goals
        </header>
        {{> addgoal}}
        <table class="ui fixed table">
            <thead>
                <tr>
                    <th class="ui header">Category</th>
                    <th class="ui header">Target</th>
                    <th class="ui header">Deadline</th>
                    <th class="ui header">Status</th>
                </tr>
            </thead>
            <tbody>
                {{#each goals}}
                    <tr>
                        <td>
                            {{category}}
                        </td>
                        <td>
                            {{target}}
                            {{#ifEquals category "weight"}}
                                kg
                            {{else}}
                                cm
                            {{/ifEquals}}
                        </td>
                        <td>
                            {{deadline}}
                        </td>
                        <td>
                            {{status}}
                        </td>
                    </tr>
                {{/each}}
            </tbody>
        </table>
    </section>
</section>

<script>
    Handlebars.registerHelper('ifEquals', function(arg1, arg2, options) {
        return (arg1 == arg2) ? options.fn(this) : options.inverse(this);
    });
</script>